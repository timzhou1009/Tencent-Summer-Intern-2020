varepsilon_ij <- rnorm(100*200,0,sqrt(2))
Y_ij <- 0 + 1*X_ij + eta_j + varepsilon_ij
dataset <- as.data.frame(cbind(Y_ij,X_ij,rep(1:200,each=100)))
colnames(dataset) <- c("Y", "X", "classid")
fit1 <- lmer(Y~ X + (1|classid), data = dataset)
summary(fit1)
fit1@call
1.072e+00
?confidence
?conf
?ci
??Ci
confint(fit1)
Z_ij <- rbern(0.5)
?rbern
??rbern
rbinom
rbinom(100,2,0.5)
Z_ij <- rbinom(100*200,2,0.5)
Z_ij <- rbinom(100*200,1,0.5)
table(Z_ij)
Z_ij <- rbinom(100*200,1,0.5)
table(Z_ij)
dataset2 <- dataset
Z_ij <- rbinom(100*200,1,0.5)
dataset2$Y[Z_ij,] <- NA
Z_ij==1
Z_ij <- rbinom(100*200,1,0.5)
dataset2$Y[Z_ij==1,] <- NA
Z_ij <- rbinom(100*200,1,0.5)
dataset2$Y[Z_ij==1] <- NA
table(dataset2$Y)
View(dataset2)
is.na(dataset)
is.na(dataset2)
table(is.na(dataset2$Y))
fit2 <- lmer(Y~ X + (1|classid), data = dataset2)
fit2 <- lmer(Y~ X + (1|classid), data = dataset2)
summary(fit2)
confint(fit2)
fit2 <- lmer(Y~ X + (1|classid), data = dataset2)
summary(fit2)
confint(fit2)
1.072-1.065
fit2 <- lmer(Y~ X + (1|classid), data = dataset2)
summary(fit2)
confint(fit2)
set.seed(2042001)
Z_ij <- rbinom(100*200,1,0.5)
dataset2$Y[Z_ij==1] <- NA
fit2 <- lmer(Y~ X + (1|classid), data = dataset2)
summary(fit2)
confint(fit2)
length(dataset2$Y)
length(dataset2$Y!=NA)
dataset2$Y
length(dataset2$Y!=NA)
length(dataset2$Y==NA)
length(dataset2$Y=!NA)
length(na.omit(dataset2$Y))
dataset2 <- dataset
fit1 <- lmer(Y~ X + (1|classid), data = dataset)
summary(fit1)
confint(fit1)
X_ij <- runif(100*200,0,1)
eta_j <- rnorm(100,0,sqrt(2))
varepsilon_ij <- rnorm(100*200,0,sqrt(2))
Y_ij <- 0 + 1*X_ij + eta_j + varepsilon_ij
dataset <- as.data.frame(cbind(Y_ij,X_ij,rep(1:200,each=100)))
colnames(dataset) <- c("Y", "X", "classid")
fit1 <- lmer(Y~ X + (1|classid), data = dataset)
summary(fit1)
fit1 <- lmer(Y~ X + (1|classid), data = dataset)
summary(fit1)
fit1 <- lmer(Y~ X + (1|classid), data = dataset)
summary(fit1)
set.seed(2042001)
X_ij <- runif(100*200,0,1)
eta_j <- rnorm(100,0,sqrt(2))
varepsilon_ij <- rnorm(100*200,0,sqrt(2))
Y_ij <- 0 + 1*X_ij + eta_j + varepsilon_ij
dataset <- as.data.frame(cbind(Y_ij,X_ij,rep(1:200,each=100)))
colnames(dataset) <- c("Y", "X", "classid")
fit1 <- lmer(Y~ X + (1|classid), data = dataset)
summary(fit1)
confint(fit1)
confint(fit1)
confint(fit1)
set.seed(2042001)
Z_ij <- rbinom(100*200,1,0.5)
dataset2$Y[Z_ij==1] <- NA
fit2 <- lmer(Y~ X + (1|classid), data = dataset2)
summary(fit2)
confint(fit2)
1.024-1.002
length(na.omit(dataset2$Y))
length(na.omit(dataset2$Y))
set.seed(2042001)
Z_ij_1 <- rbinom(100*200,1,0.5)
dataset2$Y[Z_ij_1==1] <- NA
fit2 <- lmer(Y~ X + (1|classid), data = dataset2)
summary(fit2)
confint(fit2)
set.seed(2042001)
X_ij <- runif(100*200,0,1)
eta_j <- rnorm(100,0,sqrt(2))
varepsilon_ij <- rnorm(100*200,0,sqrt(2))
Y_ij <- 0 + 1*X_ij + eta_j + varepsilon_ij
dataset1 <- as.data.frame(cbind(Y_ij,X_ij,rep(1:200,each=100)))
colnames(dataset1) <- c("Y", "X", "classid")
dataset2 <- dataset1
set.seed(2042001)
Z_ij_1 <- rbinom(100*200,1,0.5)
dataset2$Y[Z_ij_1==1] <- NA
fit2 <- lmer(Y~ X + (1|classid), data = dataset2)
summary(fit2)
confint(fit2)
1.002-9.345e-01
confint(fit1)
fit1 <- lmer(Y~ X + (1|classid), data = dataset1)
summary(fit1)
confint(fit1)
confint(fit1)
fit3 <- lmer(Y~ X + (1|classid), data = dataset3)
dataset3 <- dataset1
set.seed(2042001)
Z_ij_2 <- rbinom(100*200,1,X_ij)
dataset3$Y[Z_ij_1==2] <- NA
fit3 <- lmer(Y~ X + (1|classid), data = dataset3)
summary(fit3)
confint(fit3)
-1.547e-02
set.seed(2042001)
Z_ij_3 <- rbinom(100*200,1,expit(X_ij))
expit <- function(x) exp(x)/(1+exp(x))
set.seed(2042001)
Z_ij_3 <- rbinom(100*200,1,expit(X_ij))
dataset4$Y[Z_ij_3==2] <- NA
set.seed(2042001)
Z_ij_3 <- rbinom(100*200,1,expit(X_ij))
dataset4$Y[Z_ij_3==1] <- NA
dataset4 <- dataset1
set.seed(2042001)
Z_ij_3 <- rbinom(100*200,1,expit(X_ij))
dataset4$Y[Z_ij_3==1] <- NA
dataset3 <- dataset1
set.seed(2042001)
Z_ij_2 <- rbinom(100*200,1,X_ij)
dataset3$Y[Z_ij_1==1] <- NA
fit3 <- lmer(Y~ X + (1|classid), data = dataset3)
summary(fit3)
confint(fit3)
1.002-9.345e-01
-2.939e-03
dataset2 <- dataset1
set.seed(2042001)
Z_ij_1 <- rbinom(100*200,1,0.5)
dataset2$Y[Z_ij_1==1] <- NA
fit2 <- lmer(Y~ X + (1|classid), data = dataset2)
summary(fit2)
confint(fit2)
set.seed(2042001)
Z_ij_2 <- rbinom(100*200,1,X_ij)
dataset3$Y[Z_ij_1==1] <- NA
dataset3 <- dataset1
fit3 <- lmer(Y~ X + (1|classid), data = dataset3)
summary(fit3)
confint(fit3)
dataset3 <- dataset1
set.seed(2042001)
Z_ij_2 <- rbinom(100*200,1,X_ij)
dataset3$Y[Z_ij_1==1] <- NA
set.seed(2042001)
Z_ij_2 <- rbinom(100*200,1,X_ij)
dataset3$Y[Z_ij_2==1] <- NA
dataset3 <- dataset1
set.seed(2042001)
Z_ij_2 <- rbinom(100*200,1,X_ij)
dataset3$Y[Z_ij_2==1] <- NA
fit3 <- lmer(Y~ X + (1|classid), data = dataset3)
summary(fit3)
confint(fit3)
expit <- function(x) exp(x)/(1+exp(x))
set.seed(2042001)
Z_ij_3 <- rbinom(100*200,1,expit(X_ij))
dataset4$Y[Z_ij_3==1] <- NA
fit4 <- lmer(Y~ X + (1|classid), data = dataset4)
summary(fit4)
confint(fit4)
1.002-0.7918
9.345e-01
-2.939e-03
-1.547e-02
Z_ij_2
X_ij
1.810968e-01
Z_ij_2 <- rbinom(100*200,1,X_ij)
table(rbinom(100*200,1,X_ij))
length(na.omit(dataset3$Y))
is.na((dataset3$Y))
table(is.na(dataset3$Y))
table(rbinom(100*200,1,X_ij))
table(Z_ij_2)
sum([Z_ij_2==1])
sum[Z_ij_2==1]
sum(Z_ij_2==1)
dataset3$Y[Z_ij_2==1] <- NA
View(dataset3)
View(dataset3)
length(na.omit(dataset3$Y))
knitr::opts_chunk$set(echo = TRUE, tidy = TRUE)
###Load libraries
if(!requireNamespace("here"))
install.packages("here", repos = "https://cloud.r-project.org")
require("here")
if(!requireNamespace("lme4"))
install.packages("lme4", repos = "https://cloud.r-project.org")
require("lme4")
if(!requireNamespace("lmerTest"))
install.packages("lmerTest", repos = "https://cloud.r-project.org")
require("lmerTest")
if(!requireNamespace("dplyr"))
install.packages("lmerTest", repos = "https://cloud.r-project.org")
require("dplyr")
set.seed(2042001)
set.seed(2042001)
X_ij <- runif(100*200,0,1)
eta_j <- rnorm(100,0,sqrt(2))
varepsilon_ij <- rnorm(100*200,0,sqrt(2))
Y_ij <- 0 + 1*X_ij + eta_j + varepsilon_ij
dataset1 <- as.data.frame(cbind(Y_ij,X_ij,rep(1:200,each=100)))
colnames(dataset1) <- c("Y", "X", "classid")
fit1 <- lmer(Y~ X + (1|classid), data = dataset1)
summary(fit1)
confint(fit1)
dataset2 <- dataset1
set.seed(2042001)
Z_ij_1 <- rbinom(100*200,1,0.5)
dataset2$Y[Z_ij_1==1] <- NA
fit2 <- lmer(Y~ X + (1|classid), data = dataset2)
summary(fit2)
confint(fit2)
dataset3 <- dataset1
set.seed(2042001)
Z_ij_2 <- rbinom(100*200,1,X_ij)
dataset3$Y[Z_ij_2==1] <- NA
fit3 <- lmer(Y~ X + (1|classid), data = dataset3)
summary(fit3)
confint(fit3)
dataset4 <- dataset1
expit <- function(x) exp(x)/(1+exp(x))
set.seed(2042001)
Z_ij_3 <- rbinom(100*200,1,expit(X_ij))
dataset4$Y[Z_ij_3==1] <- NA
fit4 <- lmer(Y~ X + (1|classid), data = dataset4)
summary(fit4)
confint(fit4)
length(na.omit(dataset3$Y))
View(dataset3)
set.seed(2042001)
Z_ij_2 <- rbinom(100*200,1,X_ij)
dataset3$Y[Z_ij_2==1] <- NA
View(dataset3)
set.seed(2042001)
Z_ij_2 <- rbinom(100*200,1,X_ij)
dataset3$Y[Z_ij_2==1] <- NA
View(dataset3)
rbinom(100*200,1,X_ij)
set.seed(2042001)
Z_ij_2 <- rbinom(100*200,1,X_ij)
dataset3$Y[Z_ij_2==1] <- NA
Z_ij_2
set.seed(2042001)
rbinom(100*200,1,X_ij)
1.002-0.9345
1.002-0.7918
print("I lost my cellphone!")
print("I lost my cellphone!", quote = F)
printif("I lost my cellphone!")
printf("I lost my cellphone!")
print("I lost my cellphone!", quote = F)
a
1
ROOT <- "https://raw.githubusercontent.com/nychealth"
NYC <- readr::read_csv(paste0(ROOT, "/coronavirus-data/master/case-hosp-death.csv"))
NYC$day <- 1:nrow(NYC)
library(brms)
options(mc.cores = parallel::detectCores())
library(haven)
unzip("100.00019026_supp.zip")
oregon <- as_factor(read_dta(file.path("19026_supp", "Data", "individual_voting_data.dta")))
oregon <- na.omit(oregon[, c("vote_presidential_2008_1", "numhh_list", "treatment", "prevote",
"english_list", "female_list", "age_list", "zip_hh_inc_list")])
library(brms)
library(haven)
unzip("100.00019026_supp.zip")
setwd("~/Desktop/19-20 Spring/Statistical Inference (Bayesian)/NYU2020/Assignments/Assignment2")
oregon <- as_factor(read_dta(file.path("19026_supp", "Data", "individual_voting_data.dta")))
table(oregon$treatment) # this indicates who won the Medicaid lottery
table <- read.csv(file.path("19026_supp", "Output", "Table1.csv"))
ROOT <- "https://raw.githubusercontent.com/nychealth"
NYC <- readr::read_csv(paste0(ROOT, "/coronavirus-data/master/case-hosp-death.csv"))
NYC$day <- 1:nrow(NYC)
nb <- brm(CASE_COUNT ~ poly(day, degree = 2), data = NYC, family = negbinomial,
prior = prior(normal( 1,   0.50), class = "b", coef = "polydaydegreeEQ21") +
prior(normal(-0.5, 0.25), class = "b", coef = "polydaydegreeEQ22") +
prior(normal(5, 3), class = "Intercept") +
prior(exponential(1), class = "shape"))
read.csv("Desktop/idex_1593503700906_6688.csv")
?read.table
read.csv("Desktop/idex_1593503700906_6688.txt", sep="")
dat <- read.csv("Desktop/idex_1593503700906_6688.txt", sep="")
View(dat)
dat <- read.table("Desktop/idex_1593503700906_6688.txt", sep="")
dat <- read.table("Desktop/idex_1593503700906_6688.txt", sep=";")
dat <- read.csv("Desktop/idex_1593503700906_6688.txt", sep=";")
View(dat)
View(dat)
table(dat$collection_id)
dat <- readxl::read_xlsx("Desktop/热点事件info.xlsx")
View(dat)
?read_xlsx
dat2 <- readxl::read_xlsx("Desktop/热点事件info.xlsx", sheet = 2)
View(dat2)
library(dplyr)
dat1 <- readxl::read_xlsx("Desktop/热点事件info.xlsx") %>% as.data.frame()
View(dat1)
dat1$feedids
dat1$feedids %>% split()
dat2 <- readxl::read_xlsx("Desktop/热点事件info.xlsx", sheet = 2, index = FALSE)
dat2 <- readxl::read_xlsx("Desktop/热点事件info.xlsx", sheet = 2, col_names = TRUE)
View(dat2)
dat2 <- readxl::read_xlsx("Desktop/热点事件info.xlsx", sheet = 2, col_names = FALSE)
View(dat2)
dat2 <- readxl::read_xlsx("Desktop/热点事件info.xlsx", sheet = 2, row_names = FALSE)
dat2 <- readxl::read_xlsx("Desktop/热点事件info.xlsx", sheet = 2)
View(dat2)
View(dat1$feedids)
dat1$feedids[1]
dat1$feedids[1] %>% split()
?strsplit()
strsplit(dat1$feedids,",")
view(strsplit(dat1$feedids,","))
View(strsplit(dat1$feedids,","))
feedids1 <-strsplit(dat1$feedids,",")
feedids1
feedids1[1]
feedids1[1] %>% as.character()
feedids1[1] %>% as.list()
feedids1[1] %>% as.data.frame.table()
feedids1[1] %>% as.data.frame()
feedids1
dat1$feedids
feedids1
feedids1 %>% as.array()
feedids1[1] %>% as.array()
feedids1[1] %>% as.character.default()
feedids1[1] %>% as.name()
strsplit(dat1$feedids,",")
View(dat2)
dat2$feedids[1]
dat2$feedids[1] %>% split(",")
split(dat2$feedids[1],",")
strsplit(dat2$feedids[1],",")
write.table (feedids1, file ="Desktop/热点事件info.txt", sep =",", row.names =TRUE, col.names =TRUE, quote =TRUE)
head(feedids1)
write.table (feedids1, file ="Desktop/热点事件info.txt", sep =",")
write.table (feedids1[1], file ="Desktop/热点事件info.txt", sep =",", row.names =TRUE, col.names =TRUE, quote =TRUE)
write.table (feedids1[1], file ="Desktop/热点事件info.txt", sep =",", row.names =FALSE, col.names =FALSE, quote =FALSE)
feedids1[1]
write.table (feedids1[1], file ="Desktop/热点事件info.txt", sep =",", row.names =FALSE, col.names =FALSE, quote =TRUE)
dat2$feedids[1]
write.table (dat2$feedids[1], file ="Desktop/热点事件info.txt", sep =",", row.names =FALSE, col.names =FALSE, quote =TRUE)
write.table (dat2$feedids[1], file ="Desktop/热点事件info.txt", sep ="",", row.names =FALSE, col.names =FALSE, quote =TRUE)
)
fdsa
fdsaf
asdf
"""
write.table (dat2$feedids[1], file ="Desktop/热点事件info.txt", sep ="","", row.names =FALSE, col.names =FALSE, quote =TRUE)
write.table (dat2$feedids[1], file ="Desktop/热点事件info.txt", sep ="","", row.names =FALSE, col.names =FALSE, quote =TRUE)
write.table (dat2$feedids[1], file ="Desktop/热点事件info.txt", sep =',', row.names =FALSE, col.names =FALSE, quote =TRUE)
feedids1
write.table(feedids1[1], file ="Desktop/热点事件info.txt", sep =',', row.names =FALSE, col.names =FALSE, quote =TRUE)
?write.table
write.table(feedids1[1], file ="Desktop/热点事件info.txt", sep =',dsafdsaf', row.names =FALSE, col.names =FALSE, quote =TRUE)
feedids1[1]
feedids1 <-strsplit(dat1$feedids,",")
dat2$feedids[1]
write.table(dat2$feedids[1], file ="Desktop/热点事件info.txt", sep =',', row.names =FALSE, col.names =FALSE, quote =TRUE)
as.character(dat2$feedids[1])
write.table(as.character(dat2$feedids[1]), file ="Desktop/热点事件info.txt", sep =',', row.names =FALSE, col.names =FALSE, quote =TRUE)
as.matrix(dat2$feedids[1])
strsplit(dat2$feedids[1],",")
strsplit(dat2$feedids[1],"")
strsplit(dat2$feedids[1]," ")
strsplit(dat2$feedids[1],",")
strsplit(dat2$feedids[1],",") %>% as.data.frame()
strsplit(dat2$feedids[1],","
)
strsplit(dat2$feedids[1],",") %>% as.data.frame() %>% View()
strsplit(dat2$feedids[1],",") %>% as.data.frame(header = FALSE) %>% View()
strsplit(dat2$feedids[1],",") %>% as.data.frame(header = TRUE) %>% View()
library(dplyr)
dat1 <- readxl::read_xlsx("Desktop/热点事件info.xlsx") %>% as.data.frame()
dat2 <- readxl::read_xlsx("Desktop/热点事件info.xlsx", sheet = 2)
feedids1 <-strsplit(dat1$feedids,",")
strsplit(dat2$feedids[1],",")
write.table(as.matrix(dat2$feedids[1]), file ="Desktop/热点事件info.txt", sep =',', row.names =FALSE, col.names =FALSE, quote =TRUE)
strsplit(dat2$feedids[1],",")
d <- strsplit(dat2$feedids[1],",")
length(d)
nrow(d)
?unlist
d <- unlist(strsplit(dat2$feedids[1],","))
View(d)
unlist(dat1$feedids)
View(d)
d <- unlist(strsplit(dat2$feedids[1],",")) %>% as.data.frame()
View(d)
write.table(d,file ="Desktop/热点事件info.txt", sep =',', row.names =FALSE, col.names =FALSE, quote =TRUE)
?write.table
write.table(d,file ="Desktop/热点事件info.txt", sep =',,,,,,,,,,,,,', row.names =FALSE, col.names =FALSE, quote =TRUE)
d
d
nrow(d)
d[1]
d <- unlist(strsplit(dat2$feedids[1],",")) %>% as.matrix()
d
d <- unlist(strsplit(dat2$feedids[1],","))
d
d[1]
d[2]
length(d)
paste(d,",")
paste(d[i],",")
for (i in 1:length(d)) {
paste(d[i],",")
}
paste(d[11])
paste(d[11],",")
paste0(d[11],",")
paste(d[11]+",")
?paste
paste(d, sep=",")
paste(d[1],d[2] sep=",")
paste(d[1],d[2], sep=",")
paste(d[1],d[2], sep=","")
)
fsad;kfgo[asd]
))))
""
paste(d[1],d[2], sep=",")
paste(d[1],d[2], sep=""")
""
paste(d[1],d[2], sep="""")
dat <- read.csv("Desktop/ccs_id.csv")
View(dat)
unique(dat)
test[!duplicated(dat[,c(3)]),]
dat[!duplicated(dat[,c(3)]),]
dat <- read.table("Desktop/data.txt", sep = " ")
dat <- read.csv("Desktop/data.txt", sep = " ")
dat <- read.table("Desktop/data.txt", header = TRUE, sep = " ")
dat <- read.table("Desktop/dat.txt", header = TRUE, sep = ";")
View(dat)
dat <- read.table("Desktop/dat.txt", header = TRUE, sep = ";")
library("xlsx")
write.xlsx(dat,"Desktop/dat.xlsx")
install.packages("xlsx")
install.packages("xlsx")
install.packages("xlsx")
install.packages("xlsx")
install.packages(xlsx)
library("xlsx")
install.packages(xlsx)
install.packages("xlsx")
install.packages("xlsx")
install.packages("xlsx")
dat1 <- read.csv("Desktop/实验158217 6.23-6.25.csv")
View(dat1)
dat1 <- read.csv("Desktop/实验158217 6.23-6.25.csv")
dat2 <- read.csv("Desktop/实验158217 6.26-6.29.csv")
dat3 <- read.csv("Desktop/实验158217 6.30-7.2.csv")
dat4 <- read.csv("Desktop/实验158217 7.3-7.5.csv")
View(dat4)
dat4$account_id
dat <- cbind(dat2,dat3)
dat <- rbind(dat2,dat3)
dat1 <- read.csv("Desktop/实验158217 6.23-6.25.csv")
dat2 <- read.csv("Desktop/实验158217 6.26-6.29.csv")
dat3 <- read.csv("Desktop/实验158217 6.30-7.2.csv")
dat4 <- read.csv("Desktop/实验158217 7.3-7.5.csv")
dat <- rbind(dat1, dat2, dat3, dat4)
write.csv(dat, "Desktop/实验158217.csv")
dat1 <- read.csv("~/Desktop/Tencent/7月第3周/熔断分析/data/data.csv")
dat2 <- read.csv("~/Desktop/Tencent/7月第3周/熔断分析/data/二级类目大盘数据.csv")
library(dplyr)
dat1 <- dat1 %>% left_join(dat2, by = "cate2")
write.csv(dat1,"熔断分析.csv")
setwd("~/Desktop/Tencent/7月第3周/实验158217")
dat <- read.csv("~/Desktop/Tencent/7月第3周/实验158217/实验158217.txt")
View(dat)
head(dat$account_id)
qimei <- paste(dat$qimei,",")
View(qimei)
qimei <- paste("'",dat$qimei,"',")
View(qimei)
write.csv(qimei,"qimei.txt")
write.csv(qimei,"qimei.csv")
View(dat)
View(dat)
